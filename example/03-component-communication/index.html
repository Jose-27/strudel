<body>
  <div class="count" data-start="100"></div>
  <div class="count-control">
    <button class="control-increment">+1</button>
    <button class="control-decrement">-1</button>
  </div>

  <!--<script src="external-helpers.js"></script>-->
  <script src="strudel.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.24.0/babel.min.js"></script>
  <script type="text/babel" data-plugins="transform-decorators-legacy">
    @Strudel.Component('.count')
    class Count {
      init() {
      	this.value = parseInt(this.data.start, 10)
        this.element.html(this.value);
      }

      @Strudel.Evt('counter.increment body')
      render(e) {
      	console.log(e)
        this.element.html(0);
      }
    }

    @Strudel.Component('.count-control')
    class CountControl {
      @Strudel.Evt('click .control-increment')
      increment() {
        console.log("+1");
        this.element.trigger('counter.increment');
      }

      @Strudel.Evt('click .control-decrement')
      decrement() {
        console.log("-1");
        this.emit('counter.decrement');
      }
    }

    document.dispatchEvent(new Event('contentloaded'))
  </script>
</body>
